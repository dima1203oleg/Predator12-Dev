# üè≠ –ü–†–û–î–ê–ö–®–ù –ü–û–õ–Ü–¢–ò–ö–ò –ó –ö–û–ù–ö–£–†–°–û–ú, –ê–†–ë–Ü–¢–†–ê–ñ–ï–ú –¢–ê –¢–ï–†–ú–ê–õ–¨–ù–ò–ú –ó–ê–•–ò–°–¢–û–ú
version: "2.0_production"
created_at: "2025-09-28"
description: "–ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è 21 –ø—Ä–∞—Ü—é—é—á–æ—ó –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ—ó –º–æ–¥–µ–ª—ñ"

# üèÜ –°–ò–°–¢–ï–ú–ê –ö–û–ù–ö–£–†–°–£ –ú–û–î–ï–õ–ï–ô
competition_system:
  enabled: true
  strategy: "parallel_evaluation"
  timeout_seconds: 30
  max_competitors: 3
  consensus_threshold: 0.7
  winner_selection: "best_score_fastest"
  tie_breaker: "lowest_latency"
  
  evaluation_criteria:
    accuracy_weight: 0.4
    speed_weight: 0.3
    cost_weight: 0.2  # –ó–∞–≤–∂–¥–∏ 0 –¥–ª—è –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏—Ö
    reliability_weight: 0.1
  
  competition_modes:
    critical_tasks: "best_of_3"
    standard_tasks: "best_of_2"  
    fast_tasks: "single_winner"

# ‚öñÔ∏è –°–ò–°–¢–ï–ú–ê –ê–†–ë–Ü–¢–†–ê–ñ–£
arbitration_system:
  enabled: true
  arbiter_timeout: 15
  conflict_resolution: "weighted_vote"
  escalation_levels: 3
  
  arbitration_triggers:
    - score_difference_threshold: 0.1
    - response_time_variance: 50%
    - conflicting_results: true
    - quality_uncertainty: true
  
  arbiter_selection:
    strategy: "round_robin_capable"
    exclude_competitors: true
    fallback_to_best_model: true

# üõ°Ô∏è –¢–ï–†–ú–ê–õ–¨–ù–ò–ô –ó–ê–•–ò–°–¢ (–ê–ù–¢–ò–ü–ï–†–ï–ì–†–Ü–í)
thermal_protection:
  global_enabled: true
  monitoring_interval_seconds: 5
  
  thresholds:
    warning: 0.70    # 70% –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
    critical: 0.85   # 85% –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è  
    emergency: 0.95  # 95% –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
  
  cooldown_strategies:
    level_1: "reduce_concurrency"      # –ó–º–µ–Ω—à–∏—Ç–∏ –ø–∞—Ä–∞–ª–µ–ª—å–Ω—ñ—Å—Ç—å
    level_2: "switch_to_fallback"      # –ü–µ—Ä–µ–º–∫–Ω—É—Ç–∏ –Ω–∞ —Ä–µ–∑–µ—Ä–≤
    level_3: "activate_emergency_pool" # –ê–∫—Ç–∏–≤—É–≤–∞—Ç–∏ –∞–≤–∞—Ä—ñ–π–Ω–∏–π –ø—É–ª
    level_4: "temporary_shutdown"      # –¢–∏–º—á–∞—Å–æ–≤–µ –≤—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
  
  recovery_parameters:
    cooldown_duration_seconds: 30
    gradual_recovery: true
    recovery_step_percent: 25

# üîÑ –°–ò–°–¢–ï–ú–ê FALLBACK
fallback_system:
  enabled: true
  detection_time_seconds: 3
  recovery_attempts: 5
  cascade_prevention: true
  
  fallback_chains:
    critical_reasoning: 
      - "ai21-labs/ai21-jamba-1.5-large"
      - "mistralai/mixtral-8x7b-instruct-v0.1"  
      - "meta-llama/meta-llama-3-70b-instruct"
      - "cohere/command-r-plus-08-2024"
    
    fast_processing:
      - "meta-llama/llama-3.2-1b-instruct"
      - "qwen/qwen2.5-3b-instruct"
      - "microsoft/phi-3-mini-4k-instruct"
      - "qwen/qwen2.5-1.5b-instruct"
    
    code_generation:
      - "mistralai/codestral-latest"
      - "ai21-labs/ai21-jamba-1.5-large"
      - "microsoft/phi-3-small-128k-instruct"
      - "meta-llama/meta-llama-3-8b-instruct"
    
    balanced_tasks:
      - "meta-llama/meta-llama-3-8b-instruct"
      - "microsoft/phi-3-mini-128k-instruct"
      - "qwen/qwen2.5-7b-instruct" 
      - "cohere/command-r-08-2024"

# üöÄ –ú–ê–†–®–†–£–¢–ò–ó–ê–¶–Ü–Ø –ó –û–ü–¢–ò–ú–Ü–ó–ê–¶–Ü–Ñ–Æ
routing:
  max_latency_ms: 2000  # –ó–º–µ–Ω—à–µ–Ω–æ –¥–ª—è –∫—Ä–∞—â–æ—ó –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ
  prefer_cost: true     # –ó–∞–≤–∂–¥–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ
  fanout_best_of: 3     # –ó–±—ñ–ª—å—à–µ–Ω–æ –¥–ª—è –∫–æ–Ω–∫—É—Ä—Å—É
  shadow_test: true
  retry_attempts: 5     # –ó–±—ñ–ª—å—à–µ–Ω–æ –Ω–∞–¥—ñ–π–Ω—ñ—Å—Ç—å
  circuit_breaker_threshold: 3
  circuit_breaker_timeout: 20
  
  load_balancing_strategies:
    competition_winner: "–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –ø–µ—Ä–µ–º–æ–∂—Ü—è –∫–æ–Ω–∫—É—Ä—Å—É"
    round_robin_fast: "—à–≤–∏–¥–∫–∞ —Ä–æ—Ç–∞—Ü—ñ—è"
    fastest_response: "–Ω–∞–π—à–≤–∏–¥—à–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥—å"
    least_loaded: "–Ω–∞–π–º–µ–Ω—à–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è"
    thermal_aware: "–∑ —É—Ä–∞—Ö—É–≤–∞–Ω–Ω—è–º —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∏"

# üí∞ –ë–Æ–î–ñ–ï–¢–ò (–í–°–ï –ë–ï–ó–ö–û–®–¢–û–í–ù–û!)
budgets:
  org_monthly_usd: 0      # –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
  per_user_daily_usd: 0   # –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ  
  per_agent_hourly_usd: 0 # –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
  emergency_reserve_usd: 0 # –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ
  cost_monitoring: false  # –ù–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ
  
  # –ú–æ–Ω—ñ—Ç–æ—Ä–∏–º–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤ –∑–∞–º—ñ—Å—Ç—å –≥—Ä–æ—à–µ–π
  resource_limits:
    max_requests_per_minute: 10000
    max_concurrent_requests: 500
    max_total_tokens_per_hour: 1000000

# üõ°Ô∏è –ë–ï–ó–ü–ï–ö–ê –¢–ê –ó–ê–•–ò–°–¢ –î–ê–ù–ò–•
pii:
  mask_by_default: true
  allow_reveal_roles: ["analyst", "admin", "security_officer", "chief_orchestrator"]
  audit_all_access: true
  retention_days: 90
  auto_purge_enabled: true
  
  protection_levels:
    strict: ["PIIGuardian", "ComplianceMonitor"]
    standard: ["DataQuality", "ReportExport"] 
    relaxed: ["OSINTCrawler", "GraphBuilder"]

# ‚ö° –û–ë–ú–ï–ñ–ï–ù–ù–Ø –®–í–ò–î–ö–û–°–¢–Ü
rate_limits:
  per_user_per_minute: 500     # –ó–±—ñ–ª—å—à–µ–Ω–æ
  per_agent_per_minute: 2000   # –ó–±—ñ–ª—å—à–µ–Ω–æ
  per_model_per_minute: 1000   # –ù–æ–≤–∏–π –ª—ñ–º—ñ—Ç
  burst_multiplier: 3          # –ó–±—ñ–ª—å—à–µ–Ω–æ
  
  # –°–ø–µ—Ü—ñ–∞–ª—å–Ω—ñ –ª—ñ–º—ñ—Ç–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤
  critical_agents:
    ChiefOrchestrator: 5000
    ModelRouter: 4000
    QueryPlanner: 3000
  
  # –õ—ñ–º—ñ—Ç–∏ –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –∞–≥–µ–Ω—Ç—ñ–≤
  fast_agents:
    DatasetIngest: 10000
    Anomaly: 8000
    OSINTCrawler: 6000

# üîí –ë–ï–ó–ü–ï–ö–ê
security:
  require_auth: true
  log_all_requests: true
  blocked_patterns:
    - "system prompt"
    - "ignore instructions" 
    - "admin override"
    - "bypass security"
    - "reveal system"
  
  sensitive_endpoints:
    - "/api/v1/pii/reveal"
    - "/api/v1/admin/*"
    - "/api/v1/agents/config"
    - "/api/v1/models/competition"
    - "/api/v1/system/thermal"
  
  competition_security:
    isolate_competitors: true
    prevent_collusion: true
    audit_arbitration: true

# üìä –ú–û–ù–Ü–¢–û–†–ò–ù–ì –¢–ê –ú–ï–¢–†–ò–ö–ò  
monitoring:
  collect_metrics: true
  trace_requests: true
  log_level: "INFO"
  alert_on_failures: true
  
  metrics_collection:
    competition_results: true
    arbitration_decisions: true
    thermal_status: true
    failover_events: true
    model_performance: true
    agent_efficiency: true
  
  alerting:
    thermal_threshold_breach: "CRITICAL"
    competition_timeout: "WARNING"
    arbitration_failure: "CRITICAL"
    cascading_failures: "EMERGENCY"
    model_unavailable: "WARNING"

# üéØ –ê–ì–ï–ù–¢-–°–ü–ï–¶–ò–§–Ü–ß–ù–Ü –ü–û–õ–Ü–¢–ò–ö–ò
agent_policies:
  critical_agents:
    agents:
      - ChiefOrchestrator
      - ModelRouter
      - QueryPlanner
    policy: "maximum_reliability"
    competition_mode: "best_of_3"
    thermal_threshold: 0.85
    
  high_load_agents:
    agents:
      - DataQuality
      - Anomaly
      - DatasetIngest
      - ETLOrchestrator
    policy: "high_throughput"
    competition_mode: "best_of_2"
    thermal_threshold: 0.70
    
  specialized_agents:
    agents:
      - AutoHeal
      - RedTeam
      - SelfDiagnosis
      - PerformanceOptimizer
    policy: "quality_first" 
    competition_mode: "best_of_3"
    thermal_threshold: 0.80
    
  fast_agents:
    agents:
      - OSINTCrawler
      - Embedding
      - Indexer
    policy: "speed_first"
    competition_mode: "single_winner"
    thermal_threshold: 0.60

# üìà –ê–í–¢–û–ú–ê–°–®–¢–ê–ë–£–í–ê–ù–ù–Ø
auto_scaling:
  enabled: true
  
  scale_up_triggers:
    - cpu_threshold: 0.70
    - queue_length: 100
    - response_time_ms: 5000
  
  scale_down_triggers:
    - cpu_threshold: 0.30
    - queue_length: 10
    - idle_time_minutes: 5
  
  scaling_policies:
    min_instances: 1
    max_instances: 10
    scale_step: 2
    cooldown_seconds: 60

# üè• –°–ê–ú–û–í–Ü–î–ù–û–í–õ–ï–ù–ù–Ø  
self_healing:
  enabled: true
  
  health_checks:
    interval_seconds: 30
    timeout_seconds: 10
    failure_threshold: 3
    
  recovery_actions:
    restart_agent: true
    switch_model: true
    activate_fallback: true
    isolate_problematic: true
  
  escalation:
    level_1: "automatic_recovery"
    level_2: "administrator_alert" 
    level_3: "emergency_shutdown"

# üéõÔ∏è –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø –ü–†–û–î–£–ö–¢–ò–í–ù–û–°–¢–Ü
performance_tuning:
  connection_pooling: true
  request_batching: true
  response_caching: true
  compression_enabled: true
  
  optimization_strategies:
    latency_critical: "minimize_response_time"
    throughput_critical: "maximize_requests_per_second" 
    cost_critical: "always_use_free_models"
    reliability_critical: "multiple_redundancy"
