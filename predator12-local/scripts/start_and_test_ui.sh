#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫—É —Ç–∞ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ –±—ñ—á–Ω–æ–≥–æ –º–µ–Ω—é

echo "üöÄ –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º–∏ Predator Analytics..."

# –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤
if [ ! -f "frontend/package.json" ]; then
    echo "‚ùå frontend/package.json –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
    exit 1
fi

# –ü–µ—Ä–µ—Ö—ñ–¥ —É –ø–∞–ø–∫—É frontend
cd frontend

echo "üì¶ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)..."
if [ ! -d "node_modules" ]; then
    npm install
fi

echo "üîß –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ TypeScript –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó..."
npx tsc --noEmit

if [ $? -eq 0 ]; then
    echo "‚úÖ TypeScript –∫–æ–º–ø—ñ–ª—è—Ü—ñ—è —É—Å–ø—ñ—à–Ω–∞"
else
    echo "‚ùå –ü–æ–º–∏–ª–∫–∏ TypeScript –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó"
    exit 1
fi

echo "üåê –ó–∞–ø—É—Å–∫ React –¥–æ–¥–∞—Ç–∫—É..."
echo "üìù –ö–æ–ª–∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å—Ç–∏—Ç—å—Å—è, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å:"
echo "   1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:3000"
echo "   2. –°–ø—Ä–æ–±—É–π—Ç–µ –∫–Ω–æ–ø–∫–∏ –±—ñ—á–Ω–æ–≥–æ –º–µ–Ω—é:"
echo "      - –ú—ñ—Å—Ç –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è (Dashboard) ‚úÖ"
echo "      - –û—Ä–±—ñ—Ç–∞–ª—å–Ω–∏–π –í—É–∑–æ–ª –®–Ü (MAS) ‚úÖ" 
echo "      - –§–∞–±—Ä–∏–∫–∞ –î–∞–Ω–∏—Ö (ETL) üÜï"
echo "      - –•—Ä–æ–Ω–æ-–ê–Ω–∞–ª—ñ–∑ (Chrono) üÜï"
echo "      - –°–∏–º—É–ª—è—Ç–æ—Ä –†–µ–∞–ª—å–Ω–æ—Å—Ç–µ–π (Simulator) üÜï"
echo "      - –ê–Ω–∞–ª—ñ—Ç–∏—á–Ω–∞ –ü–∞–ª—É–±–∞ (OpenSearch) üÜï"
echo "      - –°–≤—è—Ç–∏–ª–∏—â–µ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç–æ—Ä–∞ (Admin) üÜï"
echo ""
echo "üí° –¢–µ–ø–µ—Ä –≤—Å—ñ –º–æ–¥—É–ª—ñ –ø–æ–≤–∏–Ω–Ω—ñ –ø–æ–∫–∞–∑—É–≤–∞—Ç–∏ —Ä–µ–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç!"

# –ó–∞–ø—É—Å–∫ React –¥–æ–¥–∞—Ç–∫—É
npm start
