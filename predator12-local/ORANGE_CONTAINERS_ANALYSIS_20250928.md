# üîç –ê–ù–ê–õ–Ü–ó –ü–†–û–ë–õ–ï–ú–ò –ó –û–†–ê–ù–ñ–ï–í–ò–ú–ò –ö–û–ù–¢–ï–ô–ù–ï–†–ê–ú–ò

## üìä –†–ï–ó–£–õ–¨–¢–ê–¢–ò –î–Ü–ê–ì–ù–û–°–¢–ò–ö–ò

### ‚ùå –û–°–ù–û–í–ù–ê –ü–†–û–ë–õ–ï–ú–ê
**Docker daemon –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π** - —Ü–µ –∫–æ—Ä—ñ–Ω—å –≤—Å—ñ—Ö –ø—Ä–æ–±–ª–µ–º.

```
Cannot connect to the Docker daemon at unix:///Users/dima/.docker/run/docker.sock. 
Is the docker daemon running?
```

### üéØ –©–û –¶–ï –û–ó–ù–ê–ß–ê–Ñ

1. **–ñ–æ–¥–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–µ –ø—Ä–∞—Ü—é—î** - –≤—Å—ñ —Å–µ—Ä–≤—ñ—Å–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ñ
2. **–û—Ä–∞–Ω–∂–µ–≤–∏–π —Å—Ç–∞—Ç—É—Å** —É –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ—Ö —Ç–µ—Å—Ç–∞—Ö, —à–≤–∏–¥—à–µ –∑–∞ –≤—Å–µ, –±—É–≤ —á–µ—Ä–µ–∑:
   - Health checks —â–æ –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏–ª–∏
   - –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ —É —Å—Ç–∞–Ω—ñ "starting" –∞–±–æ "unhealthy"
   - –ü—Ä–æ–±–ª–µ–º–∏ –∑ –º–µ—Ä–µ–∂–µ—é –º—ñ–∂ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏

### üõ†Ô∏è –ü–õ–ê–ù –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

#### –ö—Ä–æ–∫ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Docker Desktop
```bash
# –ó–∞–ø—É—Å–∫ Docker Desktop –Ω–∞ macOS
open -a Docker
```

–ê–±–æ –∑–∞–ø—É—Å—Ç—ñ—Ç—å Docker Desktop –≤—Ä—É—á–Ω—É –∑ Applications.

#### –ö—Ä–æ–∫ 2: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å Docker
```bash
docker --version
docker info
```

#### –ö—Ä–æ–∫ 3: –í–∏–ø—Ä–∞–≤–∏—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –≤–µ—Ä—Å—ñ—ó –≤ docker-compose
```yaml
# –í–∏–¥–∞–ª–∏—Ç–∏ –∑ docker-compose.yml —Ç–∞ docker-compose.override.yml
version: '3.8'  # ‚Üê –¶—è —Å—Ç—Ä–æ–∫–∞ –∑–∞—Å—Ç–∞—Ä—ñ–ª–∞
```

#### –ö—Ä–æ–∫ 4: –ó–∞–ø—É—Å—Ç–∏—Ç–∏ stack
```bash
cd /Users/dima/Documents/Predator11
docker-compose up -d
```

#### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
```bash
docker-compose ps
docker-compose logs --tail=20
```

### üîç –ú–û–ñ–õ–ò–í–Ü –ü–†–ò–ß–ò–ù–ò –û–†–ê–ù–ñ–ï–í–ò–• –°–¢–ê–¢–£–°–Ü–í

–ö–æ–ª–∏ Docker –∑–∞–ø—Ä–∞—Ü—é—î, –æ—Ä–∞–Ω–∂–µ–≤—ñ —Å—Ç–∞—Ç—É—Å–∏ –º–æ–∂—É—Ç—å –∑'—è–≤–∏—Ç–∏—Å—è —á–µ—Ä–µ–∑:

#### 1. üïê **–ü–æ–≤—ñ–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫ (starting)**
- **–ü—Ä–∏—á–∏–Ω–∞**: –í–µ–ª–∏–∫—ñ –æ–±—Ä–∞–∑–∏, –ø–æ–≤—ñ–ª—å–Ω–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **–†—ñ—à–µ–Ω–Ω—è**: –ó–∞—á–µ–∫–∞—Ç–∏ 2-3 —Ö–≤–∏–ª–∏–Ω–∏

#### 2. üè• **–ù–µ—É—Å–ø—ñ—à–Ω—ñ health checks (unhealthy)**
- **–ü—Ä–∏—á–∏–Ω–∞**: –°–µ—Ä–≤—ñ—Å –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ health check
- **–¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏**:
  - OpenSearch –ø–æ—Ç—Ä–µ–±—É—î –±—ñ–ª—å—à–µ –ø–∞–º'—è—Ç—ñ
  - PostgreSQL –¥–æ–≤–≥–æ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑—É—î—Ç—å—Å—è
  - Backend –Ω–µ –º–æ–∂–µ –ø—ñ–¥–∫–ª—é—á–∏—Ç–∏—Å—è –¥–æ DB

#### 3. üîß **–ü—Ä–æ–±–ª–µ–º–∏ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó**
- **–ó–º—ñ–Ω–Ω—ñ –æ—Ç–æ—á–µ–Ω–Ω—è**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—ñ
- **–ü–æ—Ä—Ç–∏**: –ö–æ–Ω—Ñ–ª—ñ–∫—Ç–∏ –ø–æ—Ä—Ç—ñ–≤
- **Volumes**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ —à–ª—è—Ö–∏

#### 4. üêå **–ù–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —Ä–µ—Å—É—Ä—Å—ñ–≤**
- **RAM**: < 8GB –¥–ª—è –≤—Å—å–æ–≥–æ —Å—Ç–µ–∫—É
- **CPU**: –í–∏—Å–æ–∫–µ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è
- **Disk**: –ú–∞–ª–æ –º—ñ—Å—Ü—è

### üìã CHECKLIST –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ Docker Desktop
open -a Docker

# 2. –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞—Å—Ç–∞—Ä—ñ–ª—ñ –≤–µ—Ä—Å—ñ—ó
sed -i '' '/^version:/d' docker-compose.yml
sed -i '' '/^version:/d' docker-compose.override.yml

# 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ .env —Ñ–∞–π–ª
cat .env | grep -E "(DATABASE_URL|REDIS_URL|SECRET_KEY)"

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ stack
docker-compose down  # –Ø–∫—â–æ —â–æ—Å—å –ø—Ä–∞—Ü—é—î
docker-compose up -d

# 5. –ú–æ–Ω—ñ—Ç–æ—Ä–∏—Ç–∏ –∑–∞–ø—É—Å–∫
watch -n 5 'docker-compose ps'

# 6. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ª–æ–≥–∏ –ø—Ä–æ–±–ª–µ–º–Ω–∏—Ö —Å–µ—Ä–≤—ñ—Å—ñ–≤
docker-compose logs opensearch
docker-compose logs backend
docker-compose logs db
```

### üéØ –û–ß–Ü–ö–£–í–ê–ù–Ü –†–ï–ó–£–õ–¨–¢–ê–¢–ò

–ü—ñ—Å–ª—è –∑–∞–ø—É—Å–∫—É Docker —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó:

- üü¢ **–ó–µ–ª–µ–Ω—ñ (healthy)**: db, redis, frontend, prometheus
- üü° **–û—Ä–∞–Ω–∂–µ–≤—ñ (starting)**: opensearch, backend (–ø–µ—Ä—à—ñ 2-3 —Ö–≤–∏–ª–∏–Ω–∏)
- üî¥ **–ß–µ—Ä–≤–æ–Ω—ñ (unhealthy)**: —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ —î —Ä–µ–∞–ª—å–Ω—ñ –ø—Ä–æ–±–ª–µ–º–∏

### üí° –ú–û–ù–Ü–¢–û–†–ò–ù–ì

–î–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —Å—Ç–∞–Ω—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ:

```bash
# –°—Ç–∞—Ç—É—Å –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤
docker-compose ps

# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ
docker-compose logs -f

# Health —Å—Ç–∞—Ç—É—Å –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–µ—Ä–≤—ñ—Å–∞
docker inspect predator11_opensearch_1 | jq '.[0].State.Health'
```

### üöÄ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–Ü–Ø

–°—Ç–≤–æ—Ä–µ–Ω–∏–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—ó –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏:
```bash
python3 scripts/quick_stack_check.py
```

---

**–í–∏—Å–Ω–æ–≤–æ–∫**: –û—Å–Ω–æ–≤–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ - –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π Docker. –û—Ä–∞–Ω–∂–µ–≤—ñ —Å—Ç–∞—Ç—É—Å–∏ - —Ü–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø—ñ–¥ —á–∞—Å –∑–∞–ø—É—Å–∫—É —Å–∫–ª–∞–¥–Ω–æ–≥–æ —Å—Ç–µ–∫—É. –ö—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ –¥–∞—Ç–∏ —Å–∏—Å—Ç–µ–º—ñ —á–∞—Å –Ω–∞ —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—é.
