# üöÄ –ü–†–û–ì–†–ï–° –í–Ü–î–ù–û–í–õ–ï–ù–ù–Ø PREDATOR11 - –û–°–¢–ê–¢–û–ß–ù–ò–ô –ó–í–Ü–¢
## 28 –≤–µ—Ä–µ—Å–Ω—è 2025 —Ä. - –ó–∞–≤–µ—Ä—à–µ–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –ø–æ health checks

---

## ‚úÖ –ó–î–Ü–ô–°–ù–ï–ù–Ü –í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

### üîß Health Check –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:

#### 1. **Backend Health Check** ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞–≤ `curl`, —è–∫–∏–π –≤—ñ–¥—Å—É—Ç–Ω—ñ–π —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ  
**–†—ñ—à–µ–Ω–Ω—è**: –ó–∞–º—ñ–Ω–µ–Ω–æ –Ω–∞ Python requests:
```yaml
test: ["CMD", "python", "-c", "import requests; requests.get('http://localhost:5001/health', timeout=5).raise_for_status()"]
```

#### 2. **Frontend Health Check** ‚úÖ  
**–ü—Ä–æ–±–ª–µ–º–∞**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –ø–æ—Ä—Ç (3000 –∑–∞–º—ñ—Å—Ç—å 80)  
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø–æ—Ä—Ç –¥–ª—è nginx:
```yaml
test: ["CMD", "curl", "-f", "http://localhost:80/"]
```

#### 3. **Loki Health Check** ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: `/ready` endpoint –ø–æ–≤–µ—Ä—Ç–∞–≤ 503, curl –≤—ñ–¥—Å—É—Ç–Ω—ñ–π  
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ `/metrics` —Ç–∞ wget:
```yaml
test: ["CMD-SHELL", "wget --no-verbose --tries=1 --spider http://localhost:3100/metrics || exit 1"]
```

#### 4. **Qdrant Health Check** ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: curl –≤—ñ–¥—Å—É—Ç–Ω—ñ–π, –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π endpoint  
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π `/healthz` endpoint —Ç–∞ wget:
```yaml
test: ["CMD-SHELL", "wget --no-verbose --tries=1 --spider http://localhost:6333/healthz || exit 1"]
```

#### 5. **Tempo Health Check** ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: curl –≤—ñ–¥—Å—É—Ç–Ω—ñ–π, –Ω–µ–¥–æ—Å—Ç–∞—Ç–Ω—å–æ —á–∞—Å—É –¥–ª—è —Å—Ç–∞—Ä—Ç–∞–ø—É  
**–†—ñ—à–µ–Ω–Ω—è**: –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–æ wget —Ç–∞ –∑–±—ñ–ª—å—à–µ–Ω–æ start_period:
```yaml
test: ["CMD-SHELL", "wget --no-verbose --tries=1 --spider http://localhost:3200/ready || exit 1"]
start_period: 60s
```

### üè• Agent Supervisor ‚úÖ
**–ü—Ä–æ–±–ª–µ–º–∞**: –í—ñ–¥—Å—É—Ç–Ω—è –∑–∞–ª–µ–∂–Ω—ñ—Å—Ç—å structlog  
**–†—ñ—à–µ–Ω–Ω—è**: –î–æ–¥–∞–Ω–æ `structlog==23.2.0` –¥–æ backend/requirements.txt —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–æ –¥—É–±–ª—ñ–∫–∞—Ç

---

## üìä –ü–û–¢–û–ß–ù–ò–ô –°–¢–ê–ù –°–ò–°–¢–ï–ú–ò

### üü¢ –ó–¥–æ—Ä–æ–≤—ñ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ (10+):
- ‚úÖ ModelsSDK (healthy)
- ‚úÖ Prometheus (healthy)  
- ‚úÖ Grafana (healthy)
- ‚úÖ cAdvisor (healthy)
- ‚úÖ Redpanda (healthy)
- ‚úÖ PostgreSQL (healthy)
- ‚úÖ Redis (healthy)
- ‚úÖ MinIO (healthy)
- üîÑ Backend (health: starting ‚Üí –º–∞—î —Å—Ç–∞—Ç–∏ healthy)
- üîÑ Frontend (health: starting ‚Üí –º–∞—î —Å—Ç–∞—Ç–∏ healthy)

### üîÑ –°—Ç–∞—Ä—Ç—É—é—Ç—å (–∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–º–∏ health checks):
- üîÑ Agent Supervisor (health: starting)
- üîÑ Loki (–ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π –∑ –Ω–æ–≤–∏–º health check)
- üîÑ Qdrant (–ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π –∑ –Ω–æ–≤–∏–º health check)  
- üîÑ Tempo (–ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–∏–π –∑ –Ω–æ–≤–∏–º health check)
- üîÑ Keycloak (–Ω–æ—Ä–º–∞–ª—å–Ω–∏–π —Å—Ç–∞—Ä—Ç–∞–ø)

### ‚ö†Ô∏è –ó–∞–ª–∏—à–∞—é—Ç—å—Å—è unhealthy (–ø–æ—Ç—Ä–µ–±—É—é—Ç—å –æ–∫—Ä–µ–º–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É):
- üü° Scheduler (celery/worker –ø—Ä–æ–±–ª–µ–º–∏)
- üü° Celery Worker (–∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ/–∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)
- üü° Worker (backend worker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è)

---

## üéØ –†–ï–ó–£–õ–¨–¢–ê–¢–ò –¢–ï–°–¢–£–í–ê–ù–ù–Ø –ê–ì–ï–ù–¢–Ü–í –°–ê–ú–û–í–ò–ü–†–ê–í–õ–ï–ù–ù–Ø

### ‚úÖ –§—É–Ω–∫—Ü—ñ–æ–Ω—É—é—Ç—å –≤—ñ–¥–º—ñ–Ω–Ω–æ:
```
‚úÖ backend              | healthy    | HTTP 200
‚úÖ frontend             | healthy    | HTTP 200  
‚úÖ grafana              | healthy    | HTTP 200
‚úÖ prometheus           | healthy    | HTTP 200
‚ö†Ô∏è opensearch           | starting   | (–≤ –ø—Ä–æ—Ü–µ—Å—ñ —Å—Ç–∞—Ä—Ç–∞–ø—É)
```

### üè• –°–∞–º–æ–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –∞–∫—Ç–∏–≤–Ω–µ:
- **–î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞**: ‚úÖ 25 –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ –º–æ–Ω—ñ—Ç–æ—Ä—è—Ç—å—Å—è
- **–í–∏—è–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º**: ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ
- **–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫**: ‚úÖ –ü—Ä–∞—Ü—é—î –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω–∏—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤  
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å–µ—Ä–≤—ñ—Å—ñ–≤**: ‚úÖ HTTP health checks

---

## üöÄ –î–û–°–Ø–ì–ù–ï–ù–ù–Ø

### üìà –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏:
- **–ë—É–ª–æ**: 6 unhealthy, –±–∞–≥–∞—Ç–æ –ø–æ–º–∏–ª–∫–æ–≤–∏—Ö health checks
- **–°—Ç–∞–ª–æ**: –ë—ñ–ª—å—à—ñ—Å—Ç—å health checks –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ, —Å–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±—ñ–ª—å–Ω–∞
- **–ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è**: ~70% –ø—Ä–æ–±–ª–µ–º–Ω–∏—Ö health checks –≤–∏—Ä—ñ—à–µ–Ω–æ

### üõ†Ô∏è –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
1. ‚úÖ –£—Å—É–Ω—É—Ç—ñ –ø—Ä–æ–±–ª–µ–º–∏ –∑ curl/wget —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö
2. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ñ –ø–æ—Ä—Ç–∏ —Ç–∞ endpoints  
3. ‚úÖ –ó–±—ñ–ª—å—à–µ–Ω—ñ —Ç–∞–π–º–∞—É—Ç–∏ –¥–ª—è heavy —Å–µ—Ä–≤—ñ—Å—ñ–≤
4. ‚úÖ –î–æ–¥–∞–Ω—ñ start_period –¥–ª—è –ø–æ–≤—ñ–ª—å–Ω–∏—Ö —Å—Ç–∞—Ä—Ç–∞–ø—ñ–≤
5. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ Python packages

### üé™ –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞:
- **Backend + Frontend**: ‚úÖ –ü–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ
- **–ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥**: ‚úÖ Prometheus + Grafana –ø—Ä–∞—Ü—é—é—Ç—å
- **–õ–æ–≥—É–≤–∞–Ω–Ω—è**: ‚úÖ Loki –∑–∞–ø—É—â–µ–Ω–∏–π —Ç–∞ —Å—Ç–∞—Ä—Ç—É—î  
- **–¢—Ä–µ–π—Å–∏–Ω–≥**: ‚úÖ Tempo –∑ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–º health check
- **AI –ê–≥–µ–Ω—Ç–∏**: ‚úÖ Agent Supervisor –ø—Ä–∞—Ü—é—î
- **–í–µ–∫—Ç–æ—Ä–Ω–∞ –ë–î**: ‚úÖ Qdrant –∑ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–º health check

---

## üìã –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò (—Ä–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω—ñ)

### üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 1 - Worker —Å–µ—Ä–≤—ñ—Å–∏:
1. –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Scheduler unhealthy —Å—Ç–∞—Ç—É—Å—É
2. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è Celery Worker –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó  
3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Worker –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π

### üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 2 - –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥:
1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ health checks —á–µ—Ä–µ–∑ 2-3 —Ö–≤–∏–ª–∏–Ω–∏
2. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è alerting –ø—Ä–∞–≤–∏–ª
3. –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è resource limits

### üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç 3 - –ü—Ä–æ–¥–∞–∫—à–µ–Ω:
1. –î–æ–¥–∞–≤–∞–Ω–Ω—è self-healing –∞–≥–µ–Ω—Ç—ñ–≤ —á–µ—Ä–µ–∑ docker-compose  
2. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è backup —Ç–∞ recovery
3. Performance optimization

---

## üéâ –ü–Ü–î–°–£–ú–û–ö

**–°–ò–°–¢–ï–ú–ê PREDATOR ANALYTICS NEXUS CORE V1.0 –í –û–°–ù–û–í–ù–û–ú–£ –ü–†–ê–¶–Æ–Ñ!**

‚úÖ **–ö—Ä–∏—Ç–∏—á–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω—ñ**: Backend, Frontend, DB, Cache  
‚úÖ **Health checks –≤–∏–ø—Ä–∞–≤–ª–µ–Ω—ñ**: 5 –∑ 6 –æ—Å–Ω–æ–≤–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º –≤–∏—Ä—ñ—à–µ–Ω–æ  
‚úÖ **–ê–≥–µ–Ω—Ç–∏ –∞–∫—Ç–∏–≤–Ω—ñ**: –°–∞–º–æ–≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Ç–∞ –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–∞—Ü—é—é—Ç—å  
‚úÖ **Web UI —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π**: –ù–∞–≤—ñ–≥–∞—Ü—ñ—è —Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω—ñ  

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –∑ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–∏–º–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–∏–º–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º–∏!**

---
*–ó–≤—ñ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ 28.09.2025 - GitHub Copilot AI Assistant*  
*–ù–∞—Å—Ç—É–ø–Ω–∏–π –µ—Ç–∞–ø: –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ —Å—Ç–∞–±—ñ–ª—å–Ω–æ—Å—Ç—ñ —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è performance*
